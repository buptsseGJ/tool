package cn.edu.thu.platform.frame;

import javax.swing.*;

import org.w3c.dom.Document;

import cn.edu.thu.platform.parser.ParseXml;

import java.awt.*;
import java.awt.event.*;
import java.io.File;

public class MainFrame extends JFrame{
	
	private JButton readSuites = new JButton("读benchmark");
	
	public MainFrame(){
		JPanel p1 = new ButtonPanel();
		p1.add(readSuites);
		add(p1,BorderLayout.CENTER);
		readSuites.addActionListener(
				new ActionListener(){
					public void actionPerformed(ActionEvent e){
						System.out.println("开始文件选择");
						JFileChooser jfc= new JFileChooser();
						jfc.setFileSelectionMode(JFileChooser.FILES_ONLY );  
				        jfc.showDialog(new JLabel(), "选择");  
				        File file=jfc.getSelectedFile();  
				        String fileAbsolutePath = file.getAbsolutePath();
				        ParseXml parser = new ParseXml();
						Document validationResult = parser.validateXml(fileAbsolutePath);
			   	        if(validationResult!=null){
			   	        	System.out.println("正确");
			   	        }else{
			   	        	System.out.println("错误");
			   	        }
					}
				}
			);
	}
	
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		JFrame mainFrame = new MainFrame();
		mainFrame.setSize(1200, 800);
		mainFrame.setTitle("测试平台");
		mainFrame.setVisible(true);
		mainFrame.setLocationRelativeTo(null);
//		frame.pack();
		mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
	}

	static class ButtonPanel extends JPanel{
		
		protected void paintComponent(Graphics g){
			super.paintComponent(g);
		}
	}
}
